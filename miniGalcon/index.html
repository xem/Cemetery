<body id=b bgcolor=#111>

<script>

// Generate at least 9 planets
do {

  // Planets array
  p = [];

  // For each point of the grid
  for(y = 1; y < 5; y++){
    for(x = 1; x < 9; x++){
    
      // There's 2 chance out of 10 to generate a planet
      if(Math.random() < 0.2){
      
        // Random planet 
        p.push([
          
          // Population
          Math.floor(Math.random() * 100),
          
          // Position
          x,
          y,
          
          // Team (0 = neutral, 1 = IA, 2 = player)
          0
        ]);
      
      }
    }
  }
}
while(p.length < 9);

// The first planet is IA's
p[0][0] = 100;
p[0][3] = 1;

// The last planet is player's
p[p.length-1][0] = 100;
p[p.length-1][3] = 2;

// Draw
for(i in p){
  b.innerHTML += "<center style='border:1px solid;width:50px;height:50px;border-radius:50%;font:20px/50px a;position:fixed;left:"+(100*p[i][1]-25)+"px;top:"+(100*p[i][2]-25)+"px;background:#"+["888","f88","88f"][p[i][3]]+"' onclick='c(this, p["+i+"])' id=p"+i+">"+p[i][0];
}

// Selected planet
s = 0;

// Click on a planet
c = function(e,p){
  
  // Case 1: Select a player's planet by clicking on it
  if(!s && p[3] == 2){
    s = p[3];
    e.style.border = "1px solid red";
  }
  
  // Case 2: If player planet is selected, and a neutral/IA planet is clicked, attack it and deselect the planet;
  else if(s && p[3] != 2){
    
    // Send ships
    // TODO
    
    // Deselect planet
    s = 0;
  }
}

// Time loop
setInterval(function(){
  
  // Increase population of inhabited planets every second
  for(i in p){
    if(p[i][3]){
      p[i][0]++;
      top["p"+i].innerHTML = p[i][0];
    }
  }
  
  // IA:
  
  // Check if one of the planets have available ships
  // Send ships
  // TODO
  
  
  // Game over:
  
  // Check if a team has no more planets
  // Announce winner
  // TODO

}, 1000);

setInterval(function(){
  
  // At every frame:
  
    // For each ship:
  
      // Move ship
      // TODO
      
      // Attack if the ship hits a planet:
      
        // If the planet is neutral, convert 1 and disappear
        // TODO
      
        // If the planet is ennemy, kill 1 and disappear
        // TODO
        
        // Mark the planet as converted if it has no enemy or neutral inhabitant anymore
        // TODO
        
}, 33);
</script>